var hsRspOrigImgWidth=null;var hsRspOrigImgHeight=null;var hsRspDefaultAnimation="fade";var hsRspMinImgWidth=150;var hsRspMinImgHeight=150;var hsRspIframeWidth=-1;var hsRspIframeHeight=-1;var hsRspDivWidth=-1;var hsRspDivHeight=-1;var hsRspModalMarginTop=90;var hsRspMaxModalWidth=90;var hsRspMaxModalHeight=90;var hsRspSetWidth=null;var hsRspSetHeight=null;var hsRspResizeTimer;var hsRspCurrentType=null;var hsRspImgGallery=[];var hsRspIsPopupOpen=false;var hsRspDisableResizeOnWindowChange=false;jQuery(document).ready(function(){if(jQuery("#hs-rsp-popup-bg").length==0){_hsRspSetupThumbnails();_hsRspSetupGallery();_hsRspSetupEventHandlers()}});function hsRspShowLoader(){_hsRspSetupPopup();jQuery("#hs-rsp-image-wrap").css("visibility","hidden");if(jQuery("#hs-rsp-image-wrap p").length==1){jQuery("#hs-rsp-image-wrap p").remove()}if(jQuery("#hs-rsp-image-loader").length==0){jQuery("#hs-rsp-popup-bg").append('<div id="hs-rsp-image-loader"></div>')}jQuery("#hs-rsp-image-loader").css({left:_hsRspCalcLeftMargin(32),top:_hsRspCalcTopMargin(32)})}function hsRspCloseLoader(){if(jQuery("#hs-rsp-image-loader").length==1){jQuery("#hs-rsp-image-loader").remove()}}function hsRspLoadImage(a,b){hsRspDisableResizeOnWindowChange=false;if(jQuery("#hs-rs-big-img").length==1){jQuery("#hs-rs-big-img").remove()}if(b!==undefined&&b!==""&&jQuery("#hs-rsp-image-wrap .popup-title").length==0){jQuery("#hs-rsp-image-wrap").append('<img id="hs-rs-big-img" src="'+a+'" alt="'+a+'"/>');jQuery("#hs-rsp-image-wrap img").load(function(){jQuery(this).after('<p class="popup-title pimage">'+b+"</p>")})}else{jQuery("#hs-rsp-image-wrap").append('<img id="hs-rs-big-img" src="'+a+'" alt="'+a+'"/>')}jQuery("#hs-rs-big-img").load(function(){hsRspOrigImgWidth=jQuery("#hs-rs-big-img").width();hsRspOrigImgHeight=jQuery("#hs-rs-big-img").height();var c={};c=_hsRspScalePopup(jQuery("#hs-rs-big-img"),hsRspMinImgWidth,hsRspMinImgHeight,hsRspOrigImgWidth,hsRspOrigImgHeight);if(hsRspImgGallery.length>1){if(jQuery("#hsrsp-leftarrow").length==0){jQuery("#hs-rsp-image-wrap").append('<a id="hsrsp-leftarrow" href="#hsrsp-left">Previous</a>');jQuery("#hsrsp-leftarrow").click(function(d){d.preventDefault();_hsRspPreviousImg()})}if(jQuery("#hsrsp-rightarrow").length==0){jQuery("#hs-rsp-image-wrap").append('<a id="hsrsp-rightarrow" href="#hsrsp-right">Next</a>');jQuery("#hsrsp-rightarrow").click(function(d){d.preventDefault();_hsRspNextImg()})}jQuery("#hsrsp-leftarrow").css({top:parseInt((c.iheight/2)-((64-10)/2)),left:10});jQuery("#hsrsp-rightarrow").css({top:parseInt((c.iheight/2)-((64-10)/2)),left:parseInt((c.iwidth)-54)})}_hsRspShowPopup(c.iwidth,c.iheight)})}function hsRspLoadFixedImage(b,d,a,c){hsRspDisableResizeOnWindowChange=true;hsRspSetWidth=c;hsRspSetHeight=a;if(jQuery("#hs-rs-big-img").length==1){jQuery("#hs-rs-big-img").remove()}if(d!==undefined&&d!==""&&jQuery("#hs-rsp-image-wrap .popup-title").length==0){jQuery("#hs-rsp-image-wrap").append('<img id="hs-rs-big-img" src="'+b+'" alt="'+b+'"/>');jQuery("#hs-rsp-image-wrap img").load(function(){jQuery(this).after('<p class="popup-title pimagef">'+d+"</p>")})}else{jQuery("#hs-rsp-image-wrap").append('<img id="hs-rs-big-img" src="'+b+'" alt="'+b+'"/>')}jQuery("#hs-rs-big-img").load(function(){hsRspOrigImgWidth=jQuery("#hs-rs-big-img").width();hsRspOrigImgHeight=jQuery("#hs-rs-big-img").height();var e={};if(hsRspImgGallery.length>1){if(jQuery("#hsrsp-leftarrow").length==0){jQuery("#hs-rsp-image-wrap").append('<a id="hsrsp-leftarrow" href="#hsrsp-left">Previous</a>');jQuery("#hsrsp-leftarrow").click(function(f){f.preventDefault();_hsRspPreviousImg()})}if(jQuery("#hsrsp-rightarrow").length==0){jQuery("#hs-rsp-image-wrap").append('<a id="hsrsp-rightarrow" href="#hsrsp-right">Next</a>');jQuery("#hsrsp-rightarrow").click(function(f){f.preventDefault();_hsRspNextImg()})}jQuery("#hsrsp-leftarrow").css({top:parseInt((a/2)-((64-10)/2)),left:10});jQuery("#hsrsp-rightarrow").css({top:parseInt((a/2)-((64-10)/2)),left:parseInt((c)-54)})}_hsRspShowPopup(c,a)})}function hsRspLoadIframe(b,a){hsRspDisableResizeOnWindowChange=false;jQuery("#hs-rsp-image-wrap").append('<iframe frameborder="0" id="hs-rsp-iframe" src="'+b+'" name="hs-rsp-iframe" vspace="0" hspace="0" allowtransparency="true"></iframe>');if(a!==undefined&&a!==""&&jQuery("#hs-rsp-image-wrap .popup-title").length==0){jQuery("#hs-rsp-image-wrap").append('<p class="popup-title">'+a+"</p>")}var c={};c=_hsRspScalePopup(jQuery("#hs-rsp-iframe"),hsRspMinImgWidth,hsRspMinImgHeight,hsRspIframeWidth,hsRspIframeHeight);jQuery("#hs-rsp-iframe").attr({width:c.iwidth,height:c.iheight});jQuery("#hs-rsp-iframe").load(b,function(){_hsRspShowPopup(c.iwidth,c.iheight)})}function hsRspLoadIframeFixedWidth(d,c,a,b){hsRspDisableResizeOnWindowChange=true;hsRspSetWidth=b;hsRspSetHeight=a;jQuery("#hs-rsp-image-wrap").append('<iframe frameborder="0" id="hs-rsp-iframe" src="'+d+'" name="hs-rsp-iframe" vspace="0" hspace="0" allowtransparency="true"></iframe>');if(c!==undefined&&c!==""&&jQuery("#hs-rsp-image-wrap .popup-title").length==0){jQuery("#hs-rsp-image-wrap").append('<p class="popup-title">'+c+"</p>")}jQuery("#hs-rsp-iframe").attr({width:b,height:a});jQuery("#hs-rsp-iframe").load(d,function(){_hsRspShowPopup(b,a)})}function hsRspLoadDiv(c,a){hsRspDisableResizeOnWindowChange=false;if(/\#.*/.test(c)){jQuery("#hs-rsp-image-wrap").append('<div id="hs-rsp-div">'+jQuery(c).html()+"</div>");if(a!==undefined&&a!==""&&jQuery("#hs-rsp-image-wrap .popup-title").length==0){jQuery("#hs-rsp-image-wrap").append('<p class="popup-title">'+a+"</p>")}var b={};b=_hsRspScalePopup(jQuery("#hs-rsp-div"),hsRspMinImgWidth,hsRspMinImgHeight,hsRspDivWidth,hsRspDivHeight);jQuery("#hs-rsp-div").css({width:b.iwidth,height:b.iheight});_hsRspShowPopup(b.iwidth,b.iheight)}else{this.hsRspCurrentType="iframe";hsRspLoadIframe(c,a)}}function hsRspLoadFixedWidthDiv(d,c,a,b){hsRspDisableResizeOnWindowChange=true;hsRspSetWidth=b;hsRspSetHeight=a;if(/\#.*/.test(d)){jQuery("#hs-rsp-image-wrap").append('<div id="hs-rsp-div">'+jQuery(d).html()+"</div>");if(c!==undefined&&c!==""&&jQuery("#hs-rsp-image-wrap .popup-title").length==0){jQuery("#hs-rsp-image-wrap").append('<p class="popup-title">'+c+"</p>")}_hsRspShowPopup(b,a)}else{this.hsRspCurrentType="iframe";hsRspLoadIframeFixedWidth(d,c,a,b)}}function hsRspClosePopup(){if(jQuery("#hs-rsp-popup-bg").length==1){jQuery("#hs-rsp-popup-bg").fadeOut("fast",function(){jQuery(this).remove()});hsRspCurrentType=null;hsRspOrigImgWidth=null;hsRspOrigImgHeight=null;hsRspIsPopupOpen=false}}function _hsRspSetupPopup(){if(jQuery("#hs-rsp-popup-bg").length==0){jQuery("body").append('<div id="hs-rsp-popup-bg"></div>')}if(jQuery("#hs-rsp-image-wrap").length==0){jQuery("#hs-rsp-popup-bg").append('<div id="hs-rsp-image-wrap"></div>')}if(jQuery("#hs-rsp-close").length==0){jQuery("#hs-rsp-image-wrap").append('<a id="hs-rsp-close" href="#hs-rsp-close" title="click to close">Close</a>')}}function _hsRspShowPopup(b,a){if(jQuery("#hs-rsp-image-wrap").length==1){jQuery("#hs-rsp-image-wrap").css({left:_hsRspCalcLeftMargin(b)+"px"});jQuery("#hs-rsp-image-wrap img").prop({width:b,height:a});if(hsRspIsPopupOpen){jQuery("#hs-rsp-image-wrap").css({marginTop:hsRspModalMarginTop})}else{jQuery("#hs-rsp-image-wrap").css({marginTop:((a+60)*-1)})}hsRspCloseLoader();if(hsRspDefaultAnimation=="slide-down"){jQuery("#hs-rsp-image-wrap").fadeIn(100,function(){jQuery("#hs-rsp-image-wrap").css("visibility","visible");if(!hsRspIsPopupOpen){jQuery("#hs-rsp-image-wrap").animate({marginTop:hsRspModalMarginTop},200)}hsRspIsPopupOpen=true})}else{jQuery("#hs-rsp-image-wrap").css({"display":"none","visibility":"visible","marginTop":hsRspModalMarginTop}).fadeIn(200,function(){hsRspIsPopupOpen=true})}}}function _hsRspSetupThumbnails(){var a=jQuery("a:has(img)").not(".no-hsrsp-popup").filter(function(){if(jQuery(this).find("img.no-hsrsp-popup").length==1){return false}else{return/\.(jpe?g|png|gif|bmp)$/i.test(jQuery(this).attr("href"))}});a.addClass("hs-rsp-popup")}function _hsRspSetupGallery(){hsRspImgGallery=jQuery(".hs-rsp-popup").not(".iframe, .hiddendiv")}function _hsRspSetupEventHandlers(){jQuery(window).resize(function(){if(jQuery("#hs-rsp-image-wrap").length==1){clearTimeout(hsRspResizeTimer);hsRspResizeTimer=setTimeout(_hsRspAnimateResize,100)}});jQuery(".hs-rsp-popup").click(function(d){d.preventDefault();if(jQuery(this).hasClass("iframe")){hsRspCurrentType="iframe";hsRspShowLoader();var a=jQuery(this).attr("title");if(jQuery(this).attr("data-popupheight")!==undefined&&jQuery(this).attr("data-popupheight")!==undefined){hsRspLoadIframeFixedWidth(jQuery(this).attr("href"),a,jQuery(this).attr("data-popupheight"),jQuery(this).attr("data-popupwidth"))}else{hsRspLoadIframe(jQuery(this).attr("href"),a)}}else{if(jQuery(this).hasClass("hiddendiv")){hsRspCurrentType="div";hsRspShowLoader();var b=jQuery(this).attr("title");if(jQuery(this).attr("data-popupheight")!==undefined&&jQuery(this).attr("data-popupheight")!==undefined){hsRspLoadFixedWidthDiv(jQuery(this).attr("href"),b,jQuery(this).attr("data-popupheight"),jQuery(this).attr("data-popupwidth"))}else{hsRspLoadDiv(jQuery(this).attr("href"),b)}}else{hsRspCurrentType="image";hsRspShowLoader();var c=jQuery(this).find("img").attr("alt");hsRspLoadImage(jQuery(this).attr("href"),c);if(jQuery(this).attr("data-popupheight")!==undefined&&jQuery(this).attr("data-popupheight")!==undefined){hsRspLoadFixedImage(jQuery(this).attr("href"),c,jQuery(this).attr("data-popupheight"),jQuery(this).attr("data-popupwidth"))}else{hsRspLoadImage(jQuery(this).attr("href"),c)}}}});jQuery("body").on("click","#hs-rsp-popup-bg, #hs-rsp-image-wrap",function(a){if(a.srcElement==a.currentTarget){a.preventDefault();hsRspClosePopup()}});jQuery("body").on("click","#hs-rsp-close",function(a){a.preventDefault();hsRspClosePopup()});jQuery(document).keyup(function(b){if(b.which==37||b.which==39){var a=jQuery("#hs-rs-big-img");if(hsRspImgGallery.length>1&&b.which==37&&a.length==1){_hsRspPreviousImg()}if(hsRspImgGallery.length>1&&b.which==39&&a.length==1){_hsRspNextImg()}}if(b.which==27){hsRspClosePopup()}})}function _hsRspPreviousImg(){var a=jQuery("#hs-rs-big-img");var d=-1;var e=-1;var f=null;var b=null;for(var c=0;c<hsRspImgGallery.length;c++){if(jQuery(hsRspImgGallery[c]).attr("href")==a.attr("src")){d=c}}if(d==0){e=hsRspImgGallery.length-1}else{if(d>0){e=--d}}f=jQuery(hsRspImgGallery[e]).attr("href");jQuery("#hs-rsp-image-wrap").fadeOut("fast",function(){jQuery(this).css({visibility:"hidden",display:"block"});hsRspShowLoader();b=jQuery('a[href="'+f+'"]');if(jQuery(b).attr("data-popupheight")!==undefined&&jQuery(b).attr("data-popupheight")!==undefined){hsRspLoadFixedImage(f,jQuery(b).find("img").attr("alt"),jQuery(b).attr("data-popupheight"),jQuery(b).attr("data-popupwidth"))}else{hsRspLoadImage(f,jQuery(b).find("img").attr("alt"))}})}function _hsRspNextImg(){var a=jQuery("#hs-rs-big-img");var c=-1;var d=-1;var e=null;var f=null;for(var b=0;b<hsRspImgGallery.length;b++){if(jQuery(hsRspImgGallery[b]).attr("href")==a.attr("src")){c=b}}if(c==hsRspImgGallery.length-1){d=0}else{if(c<hsRspImgGallery.length-1){d=++c}}e=jQuery(hsRspImgGallery[d]).attr("href");jQuery("#hs-rsp-image-wrap").fadeOut("fast",function(){jQuery(this).css({visibility:"hidden",display:"block"});hsRspShowLoader();f=jQuery('a[href="'+e+'"]');if(jQuery(f).attr("data-popupheight")!==undefined&&jQuery(f).attr("data-popupheight")!==undefined){hsRspLoadFixedImage(e,jQuery(f).find("img").attr("alt"),jQuery(f).attr("data-popupheight"),jQuery(f).attr("data-popupwidth"))}else{hsRspLoadImage(e,jQuery(f).find("img").attr("alt"))}})}function _hsRspAnimateResize(){switch(hsRspCurrentType){case"image":if(hsRspDisableResizeOnWindowChange){var a={"iwidth":hsRspSetWidth,"iheight":hsRspSetHeight}}else{var a=_hsRspScalePopup(jQuery("#hs-rs-big-img"),hsRspMinImgWidth,hsRspMinImgHeight,hsRspOrigImgWidth,hsRspOrigImgHeight)}jQuery("#hs-rs-big-img").animate({width:a.iwidth,height:a.iheight},100,function(){jQuery("#hs-rsp-image-wrap").animate({left:_hsRspCalcLeftMargin(jQuery(this).width())},50,function(){if(jQuery("#hsrsp-leftarrow").length==1){jQuery("#hsrsp-leftarrow").css({top:parseInt((a.iheight/2)-((64-10)/2)),left:10})}if(jQuery("#hsrsp-rightarrow").length==1){jQuery("#hsrsp-rightarrow").css({top:parseInt((a.iheight/2)-((64-10)/2)),left:parseInt((a.iwidth)-54)})}})});break;case"iframe":if(hsRspDisableResizeOnWindowChange){var a={"iwidth":hsRspSetWidth,"iheight":hsRspSetHeight}}else{var a=_hsRspScalePopup(jQuery("#hs-rsp-iframe"),hsRspMinImgWidth,hsRspMinImgHeight,hsRspIframeWidth,hsRspIframeHeight)}jQuery("#hs-rsp-iframe").animate({width:a.iwidth,height:a.iheight},100,function(){jQuery("#hs-rsp-image-wrap").animate({left:_hsRspCalcLeftMargin(jQuery(this).width())},50,function(){})});break;case"div":if(hsRspDisableResizeOnWindowChange){var b={"iwidth":hsRspSetWidth,"iheight":hsRspSetHeight}}else{var b=_hsRspScalePopup(jQuery("#hs-rsp-div"),hsRspMinImgWidth,hsRspMinImgHeight,hsRspDivWidth,hsRspDivHeight)}jQuery("#hs-rsp-div").animate({width:b.iwidth,height:b.iheight},100,function(){jQuery("#hs-rsp-image-wrap").animate({left:_hsRspCalcLeftMargin(jQuery(this).width())},50,function(){})});break}}function _hsRspCalcLeftMargin(a){var c=parseInt(parseInt(jQuery(window).width())/2);var b=parseInt(c-(a/2));return b}function _hsRspCalcTopMargin(a){var c=parseInt(parseInt(jQuery(window).height())/2);var b=parseInt(c-(a/2));return b}function _hsRspScalePopup(f,d,l,n,c){var i,i=0;var e,j=0;var k,g=0;var h,a=0;var m=0;k=jQuery(window).width();g=jQuery(window).height();i=f.width();popupHeight=f.height();e=parseInt(k*(hsRspMaxModalWidth/100));j=parseInt((g-hsRspModalMarginTop)*(hsRspMaxModalHeight/100));if(n==-1&&c==-1){a=j;h=e}else{if(i>e||popupHeight>j){if(popupHeight>i||popupHeight>j){a=j;if(a<hsRspMinImgHeight){a=hsRspMinImgHeight}m=parseFloat(a/popupHeight);h=parseFloat(m*i);h=parseInt(Math.ceil(h))}else{h=e;if(a<hsRspMinImgWidth){a=hsRspMinImgWidth}m=parseFloat(h/i);a=parseFloat(m*popupHeight);a=parseInt(Math.ceil(a))}}else{if(c!=null||n!=null){if(popupHeight>i&&popupHeight<j){a=j;if(a>c){a=c}m=parseFloat(a/popupHeight);h=parseFloat(m*i);h=parseInt(Math.ceil(h))}else{h=e;if(h>n){h=n}m=parseFloat(h/i);a=parseFloat(m*popupHeight);a=parseInt(Math.ceil(a))}}else{h=i;a=popupHeight}}}if(jQuery(f).attr("id")=="hs-rsp-div"){h=f.width();a=f.height();if(i>e||popupHeight>j){if(popupHeight>i||popupHeight>j){a=j;if(a<j){a=j}m=parseFloat(a/popupHeight);h=parseFloat(m*i);h=parseInt(Math.ceil(h))}else{h=e;if(f.height()<j){a=j}else{m=parseFloat(h/i);a=parseFloat(m*popupHeight);a=parseInt(Math.ceil(a))}f.css("overflow","scroll")}}}var b={};b.iwidth=h;b.iheight=a;return b};